{"ast":null,"code":"useEffect(() => {\n  const fetchCategories = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      setError(\"No token found, please login.\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const decodedToken = JSON.parse(atob(token.split('.')[1]));\n      console.log(\"Decoded token:\", decodedToken);\n    } catch {\n      setError(\"Invalid token format.\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const response = await axios.get(\"http://localhost:5000/api/categories\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Categories response:\", response.data);\n      setCategories(response.data);\n      if (response.data.length > 0) {\n        setSelectedCategory(response.data[0]._id);\n      }\n    } catch (error) {\n      setError(\"Failed to load categories\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  fetchCategories();\n}, []);","map":{"version":3,"names":["useEffect","fetchCategories","token","localStorage","getItem","setError","setLoading","decodedToken","JSON","parse","atob","split","console","log","response","axios","get","headers","Authorization","data","setCategories","length","setSelectedCategory","_id","error"],"sources":["D:/Lusana ko project/Lusana ko project/frontend/src/pages/player/Dashboard.js"],"sourcesContent":["useEffect(() => {\n  const fetchCategories = async () => {\n    const token = localStorage.getItem(\"token\")\n    if (!token) {\n      setError(\"No token found, please login.\")\n      setLoading(false)\n      return\n    }\n    try {\n      const decodedToken = JSON.parse(atob(token.split('.')[1]))\n      console.log(\"Decoded token:\", decodedToken)\n    } catch {\n      setError(\"Invalid token format.\")\n      setLoading(false)\n      return\n    }\n\n    try {\n      const response = await axios.get(\"http://localhost:5000/api/categories\", {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      console.log(\"Categories response:\", response.data)\n      setCategories(response.data)\n      if (response.data.length > 0) {\n        setSelectedCategory(response.data[0]._id)\n      }\n    } catch (error) {\n      setError(\"Failed to load categories\")\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  fetchCategories()\n}, [])\n"],"mappings":"AAAAA,SAAS,CAAC,MAAM;EACd,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACVG,QAAQ,CAAC,+BAA+B,CAAC;MACzCC,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IACA,IAAI;MACF,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACR,KAAK,CAACS,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1DC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEN,YAAY,CAAC;IAC7C,CAAC,CAAC,MAAM;MACNF,QAAQ,CAAC,uBAAuB,CAAC;MACjCC,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,IAAI;MACF,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,sCAAsC,EAAE;QACvEC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUhB,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFU,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEC,QAAQ,CAACK,IAAI,CAAC;MAClDC,aAAa,CAACN,QAAQ,CAACK,IAAI,CAAC;MAC5B,IAAIL,QAAQ,CAACK,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;QAC5BC,mBAAmB,CAACR,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACI,GAAG,CAAC;MAC3C;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdnB,QAAQ,CAAC,2BAA2B,CAAC;MACrCO,OAAO,CAACY,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,SAAS;MACRlB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDL,eAAe,CAAC,CAAC;AACnB,CAAC,EAAE,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}