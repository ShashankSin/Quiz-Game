{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError(\"\");setLoading(true);try{const user=await login(email,password);if(user.role===\"player\"){navigate(\"/player/dashboard\");}else{navigate(\"/admin/dashboard\");}}catch(error){setError(error.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-6 text-purple-600\",children:\"Quiz Game Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full\",disabled:loading,children:loading?\"Logging in...\":\"Login\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"text-purple-600 hover:text-purple-800\",children:\"Sign up\"})]})})]})});}export default Login;","map":{"version":3,"names":["useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","login","navigate","handleSubmit","e","preventDefault","user","role","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","required","disabled","to"],"sources":["D:/Lusana ko project/Lusana ko project/frontend/src/pages/Login.js"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const { login } = useAuth()\n  const navigate = useNavigate()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setError(\"\")\n    setLoading(true)\n\n    try {\n      const user = await login(email, password)\n      if (user.role === \"player\") {\n        navigate(\"/player/dashboard\")\n      } else {\n        navigate(\"/admin/dashboard\")\n      }\n    } catch (error) {\n      setError(error.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\n        <h1 className=\"text-3xl font-bold text-center mb-6 text-purple-600\">Quiz Game Login</h1>\n\n        {error && <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">{error}</div>}\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <button\n              type=\"submit\"\n              className=\"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full\"\n              disabled={loading}\n            >\n              {loading ? \"Logging in...\" : \"Login\"}\n            </button>\n          </div>\n        </form>\n\n        <div className=\"text-center mt-4\">\n          <p className=\"text-gray-600\">\n            Don't have an account?{\" \"}\n            <Link to=\"/signup\" className=\"text-purple-600 hover:text-purple-800\">\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}